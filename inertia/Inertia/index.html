<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inertia Simulation</title>
    <link rel="stylesheet" href="container.css">
    <style>
        /* Quiz section styling */
        #quizSection {
            display: none; /* Hide the quiz section by default */
            width: 600px;
            background-color: rgba(30, 30, 30, 0.9);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
            border: 10px solid white;
            text-align: center;
            position: absolute;
            top: 20%; /* Position it to your liking */
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000; /* Bring it to the front */
        }
    </style>
</head>
<body>
    <img id="logo" src="Logo2.png" alt="Logo">
    <div id="title">Inertia Simulation</div>

    <div id="main">
        <canvas id="energyChart"></canvas>
        <div id="container"></div>

        <div id="controls">
            <label for="lengthSlider">Pendulum Length (m): <span id="lengthValue">0.836</span></label>
            <input type="range" id="lengthSlider" min="0.1" max="10" step="0.001" value="0.836">

            <label for="dampingSlider">Damping:<span id="dampingValue">0.0500</span></label>
            <input type="range" id="dampingSlider" min="0" max="1" step="0.001" value="0.0500">

            <label for="massSlider">Pendulum Mass (kg):<span id="massValue">0.728</span></label>
            <input type="range" id="massSlider" min="0.1" max="5" step="0.001" value="0.728">

            <label for="driveAmplitudeSlider">Drive Amplitude:<span id="driveAmplitudeValue">0.00</span></label>
            <input type="range" id="driveAmplitudeSlider" min="0" max="1" step="0.001" value="0.00">

            <label for="driveFrequencySlider">Drive Frequency:<span id="driveFrequencyValue">0.667</span></label>
            <input type="range" id="driveFrequencySlider" min="0.1" max="5" step="0.001" value="0.667">

            <label for="gravitySlider">Gravity (m/s²):<span id="gravityValue">9.80</span></label>
            <input type="range" id="gravitySlider" min="0" max="20" step="0.1" value="9.80">

            <button id="startButton">Start Simulation</button>
            <button id="pauseButton">Pause</button>
            <button id="resetButton">Reset</button>
            <button id="quiz" onclick="showQuiz()">Q</button>
        </div>

        <div id="info-container">
            <span id="energy">Energy: 0 J</span><br>
            <span id="time">Time: 0 s</span><br>
            <span id="inertia">Moment of Inertia: 0 kg·m²</span><br>
            <span id="period">Period: 0 s</span><br>
            <span id="amplitude">Amplitude: 0°</span>
        </div>

        <div id="quizSection">
            <div id="question">Question goes here</div>
            <div id="options"></div>
            <button id="prevButton" class="quiz-button" style="display: none;" onclick="previousQuestion()">Previous</button>
            <button id="nextButton" class="quiz-button" style="display: none;" onclick="nextQuestion()">Next</button>
            <button id="seeAnswersButton" onclick="showCorrectAnswers()">See Correct Answers</button>
            <button id="backButton" class="quiz-button" onclick="goBack()">Go Back</button>
            <div id="quizResults" style="display: none;"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="sketch.js"></script>
    <script>
        // Add your quiz logic here
        let currentQuestionIndex = 0; // Current question index
        const questions = [
            { question: "What is inertia?", options: ["A property of matter", "A type of energy", "A force"], answer: 0 },
            { question: "Which factor does not affect inertia?", options: ["Mass", "Volume", "Shape"], answer: 1 },
            // Add more questions as needed
        ];

        function showQuiz() {
            document.getElementById('main').style.display = 'none'; // Hide the main simulation
            document.getElementById('quizSection').style.display = 'block'; // Show the quiz section
            currentQuestionIndex = 0; // Reset to the first question
            showQuestion(currentQuestionIndex); // Show the first question of the quiz
        }

        function goBack() {
            document.getElementById('quizSection').style.display = 'none'; // Hide quiz section
            document.getElementById('main').style.display = 'block'; // Show main simulation again
        }

        function showQuestion(index) {
            const questionElement = document.getElementById('question');
            const optionsElement = document.getElementById('options');
            questionElement.innerText = questions[index].question;
            optionsElement.innerHTML = ''; // Clear previous options

            questions[index].options.forEach((option, idx) => {
                const button = document.createElement('button');
                button.innerText = option;
                button.onclick = () => handleAnswer(index, idx);
                optionsElement.appendChild(button);
            });

            // Show/hide buttons based on the current question
            document.getElementById('prevButton').style.display = index > 0 ? 'inline' : 'none';
            document.getElementById('nextButton').style.display = index < questions.length - 1 ? 'inline' : 'none';
        }

        function handleAnswer(questionIndex, selectedIndex) {
            // Check if the answer is correct
            const correctAnswer = questions[questionIndex].answer;
            if (selectedIndex === correctAnswer) {
                alert('Correct!');
            } else {
                alert('Wrong answer.');
            }
            // Move to the next question
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion(currentQuestionIndex);
            } else {
                alert('Quiz completed!');
                // Optionally reset or handle the end of the quiz here
                goBack(); // Return to the main simulation
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            }
        }

        function showCorrectAnswers() {
            const answers = questions.map((q, i) => `${i + 1}. ${q.options[q.answer]}`).join('\n');
            alert(`Correct Answers:\n${answers}`);
        }
    </script>
</body>
</html>
